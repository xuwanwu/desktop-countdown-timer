# 安装和运行说明

## 方式一：开发模式运行

### 1. 安装 Node.js

如果还没有安装 Node.js，请访问：https://nodejs.org/

推荐下载 LTS（长期支持）版本。

### 2. 安装项目依赖

打开命令提示符（cmd）或PowerShell，进入项目目录：

```bash
cd /d "D:\你的路径\桌面倒计时"
npm install
```

安装过程可能需要几分钟，请耐心等待。

### 3. 运行应用

```bash
npm start
```

应用将启动并显示在屏幕右下角。

## 方式二：打包成可执行文件

### 1. 安装依赖（如果还没安装）

```bash
npm install
```

### 2. 打包应用

```bash
npm run package
```

### 3. 安装

打包完成后，在 `dist` 目录中会生成安装程序：

- Windows: `dist/倒计时小组件 Setup x.x.x.exe`

双击安装程序进行安装。

## 常见问题

### 问题1：npm install 失败

**解决方案：**
1. 尝试使用国内镜像：
```bash
npm config set registry https://registry.npmmirror.com
npm install
```

2. 或使用cnpm：
```bash
npm install -g cnpm --registry=https://registry.npmmirror.com
cnpm install
```

### 问题2：运行时提示缺少模块

**解决方案：**
删除 `node_modules` 文件夹，重新安装：
```bash
rmdir /s node_modules
npm install
```

### 问题3：打包失败

**解决方案：**
确保已安装 electron-builder：
```bash
npm install electron-builder --save-dev
```

### 问题4：Windows安全警告

**解决方案：**
这是因为应用没有数字签名。点击"更多信息"然后"仍要运行"即可。

## 快速使用指南

### 启动后

1. 应用会自动显示在屏幕右下角
2. 系统托盘会出现图标
3. 默认显示3分钟倒计时

### 基本操作

- **开始/暂停**：点击"开始"按钮或按空格键
- **重置**：点击"重置"按钮或按R键
- **设置时间**：
  - 快速设置：点击3分/4分/6分按钮
  - 自定义：在输入框输入1-60之间的数字
  - 快捷键：按1/2/3键分别设置3/4/6分钟

### 窗口操作

- **拖动**：点住顶部红色条拖动窗口
- **吸附**：拖到屏幕四角附近会自动吸附
- **显示控制**：鼠标悬停在窗口上
- **调节透明度**：拖动透明度滑块

### 全局快捷键

| 按键 | 功能 |
|------|------|
| 空格 | 开始/暂停 |
| R | 重置 |
| 1 | 3分钟 |
| 2 | 4分钟 |
| 3 | 6分钟 |

### 状态指示

- 🟢 **绿色**：计时进行中
- ⚪ **灰色**：暂停状态
- 🔴 **红色**：超时（会闪烁提醒）

### 退出应用

右键点击系统托盘图标 → 选择"退出"

## 系统要求

- Windows 10/11
- 至少 100MB 可用磁盘空间
- 建议 4GB 以上内存

## 技术支持

如遇到问题，请检查：
1. Node.js 版本是否 >= 16.0.0
2. 网络连接是否正常（安装依赖时需要）
3. 系统防火墙是否阻止了应用

---

**祝使用愉快！** ⏰



