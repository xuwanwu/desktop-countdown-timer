# 项目文件说明

本文档说明项目中所有文件的用途和作用。

## 📁 项目结构

```
桌面倒计时/
├── 核心文件 (必需)
│   ├── package.json          # 项目配置和依赖
│   ├── main.js               # Electron主进程
│   ├── index.html            # 应用界面
│   ├── renderer.js           # 渲染进程逻辑
│   └── styles.css            # 样式表
│
├── 辅助脚本
│   ├── install.bat           # 一键安装依赖
│   ├── start.bat             # 快速启动
│   └── package.bat           # 打包应用
│
├── 文档
│   ├── README.md             # 主要说明文档
│   ├── 安装说明.md           # 详细安装指南
│   ├── 使用技巧.md           # 进阶使用技巧
│   ├── Windows11优化说明.md  # Win11特定说明
│   ├── 快速参考.txt          # 快速参考卡
│   ├── 项目文件说明.md       # 本文件
│   ├── CHANGELOG.md          # 更新日志
│   └── LICENSE               # 开源许可证
│
└── 其他
    ├── .gitignore            # Git忽略配置
    └── node_modules/         # 依赖包（安装后生成）
```

## 📄 核心文件详解

### package.json
**用途：** 项目配置文件
**包含内容：**
- 项目名称和版本
- 依赖包列表
- 启动脚本
- 打包配置

**重要性：** ⭐⭐⭐⭐⭐ 必需
**是否可修改：** ✅ 可以（添加依赖、修改脚本等）

---

### main.js
**用途：** Electron主进程，管理应用生命周期
**主要功能：**
- 创建和管理窗口
- 系统托盘集成
- 全局快捷键注册
- 窗口吸附逻辑
- IPC通信处理

**重要性：** ⭐⭐⭐⭐⭐ 必需
**是否可修改：** ✅ 可以（自定义窗口行为、快捷键等）

**关键配置：**
```javascript
const WINDOW_WIDTH = 250;      // 窗口宽度
const WINDOW_HEIGHT = 120;     // 窗口高度
const SNAP_DISTANCE = 50;      // 吸附距离
```

---

### index.html
**用途：** 应用的HTML结构
**包含内容：**
- 时间显示区域
- 控制面板
- 按钮和输入框
- 右键菜单

**重要性：** ⭐⭐⭐⭐⭐ 必需
**是否可修改：** ✅ 可以（调整布局、添加元素等）

---

### renderer.js
**用途：** 渲染进程逻辑，处理界面交互
**主要功能：**
- 倒计时核心逻辑
- 事件监听和处理
- 状态管理
- 显示更新
- 快捷键响应

**重要性：** ⭐⭐⭐⭐⭐ 必需
**是否可修改：** ✅ 可以（修改计时逻辑、添加功能等）

**关键函数：**
```javascript
startTimer()     // 开始计时
pauseTimer()     // 暂停计时
resetTimer()     // 重置计时
setTimer()       // 设置时间
updateDisplay()  // 更新显示
```

---

### styles.css
**用途：** 应用样式表
**包含内容：**
- 布局样式
- 颜色主题
- 动画效果
- 响应式设计

**重要性：** ⭐⭐⭐⭐⭐ 必需
**是否可修改：** ✅ 强烈推荐（自定义外观）

**可自定义项：**
```css
/* 颜色主题 */
--primary-color: #ff4444;
--success-color: #22c55e;
--warning-color: #ff4444;

/* 尺寸 */
font-size: 42px;           /* 时间显示大小 */
border-radius: 12px;       /* 圆角大小 */

/* 透明度 */
background: rgba(255, 255, 255, 0.95);
```

## 🔧 辅助脚本详解

### install.bat
**用途：** 自动安装项目依赖
**功能：**
1. 检查Node.js安装
2. 运行npm install
3. 失败时尝试使用国内镜像

**使用方法：** 双击运行
**首次使用必需：** ✅ 是

---

### start.bat
**用途：** 快速启动应用
**功能：**
1. 运行npm start
2. 显示友好的启动信息
3. 错误提示

**使用方法：** 双击运行
**等同于：** `npm start`

---

### package.bat
**用途：** 打包应用为可执行文件
**功能：**
1. 运行npm run package
2. 打包完成后打开dist文件夹
3. 错误提示

**使用方法：** 双击运行
**等同于：** `npm run package`

## 📚 文档文件详解

### README.md
**用途：** 项目主要说明文档
**适合人群：** 所有用户
**包含内容：**
- 功能介绍
- 快速开始
- 使用说明
- 快捷键列表
- 常见问题

**推荐阅读：** ⭐⭐⭐⭐⭐

---

### 安装说明.md
**用途：** 详细的安装和运行指南
**适合人群：** 新手用户
**包含内容：**
- 安装Node.js
- 安装依赖
- 运行和打包
- 常见问题解决

**推荐阅读：** ⭐⭐⭐⭐ （新手必读）

---

### 使用技巧.md
**用途：** 进阶使用技巧和最佳实践
**适合人群：** 熟练用户
**包含内容：**
- 各种场景的使用技巧
- 性能优化建议
- 个性化设置
- 高级功能

**推荐阅读：** ⭐⭐⭐⭐ （提高效率）

---

### Windows11优化说明.md
**用途：** Windows 11特定功能和优化
**适合人群：** Windows 11用户
**包含内容：**
- Win11特性支持
- 全屏兼容性
- 性能优化
- 故障排查

**推荐阅读：** ⭐⭐⭐ （Win11用户推荐）

---

### 快速参考.txt
**用途：** 快速参考卡片
**适合人群：** 所有用户
**包含内容：**
- 快捷键列表
- 常用操作
- 状态说明
- 简明提示

**推荐阅读：** ⭐⭐⭐⭐⭐ （打印备查）

---

### CHANGELOG.md
**用途：** 版本更新记录
**适合人群：** 关注更新的用户
**包含内容：**
- 版本历史
- 新增功能
- 修复的问题
- 计划功能

**推荐阅读：** ⭐⭐⭐ （了解更新）

---

### LICENSE
**用途：** 开源许可证（MIT）
**重要性：** 法律文件
**说明：** 允许自由使用、修改和分发

## 🗑️ 可删除的文件

以下文件可以安全删除而不影响应用运行：

- ✅ 所有文档文件（.md）
- ✅ 辅助脚本（.bat）
- ✅ LICENSE
- ✅ .gitignore
- ✅ 本文件（项目文件说明.md）

**注意：** 删除文档文件后，您将无法查看使用说明。

## ⚠️ 不可删除的文件

以下文件是应用运行必需的，**绝对不能删除：**

- ❌ package.json
- ❌ main.js
- ❌ index.html
- ❌ renderer.js
- ❌ styles.css
- ❌ node_modules/ （安装后生成）

## 🎨 自定义指南

### 想要修改窗口大小？

编辑 `main.js`:
```javascript
const WINDOW_WIDTH = 300;   // 改为你想要的宽度
const WINDOW_HEIGHT = 150;  // 改为你想要的高度
```

编辑 `styles.css`:
```css
.app-container {
  width: 300px;  /* 与main.js中的WINDOW_WIDTH一致 */
}
```

---

### 想要修改颜色主题？

编辑 `styles.css`:
```css
/* 查找以下部分并修改颜色值 */
.drag-handle {
  background: linear-gradient(90deg, #ff4444, #ff6666);
  /* 改为你喜欢的颜色 */
}

.time-display.running {
  color: #22c55e;  /* 运行中的颜色 */
}

.time-display.overtime {
  color: #ff4444;  /* 超时的颜色 */
}
```

---

### 想要修改默认时间？

编辑 `renderer.js`:
```javascript
let timerState = {
  totalSeconds: 180,      // 改为默认秒数（180 = 3分钟）
  remainingSeconds: 180,  // 与上面保持一致
  // ...
};
```

---

### 想要修改快捷键？

编辑 `main.js`:
```javascript
// 在registerGlobalShortcuts函数中修改
globalShortcut.register('Space', ...);  // 改为其他键
globalShortcut.register('R', ...);      // 改为其他键
// 等等...
```

---

### 想要修改吸附距离？

编辑 `main.js`:
```javascript
const SNAP_DISTANCE = 50;  // 改为你想要的像素值
// 值越大，越远就开始吸附
// 值越小，需要更靠近角落才吸附
```

## 📦 安装后生成的文件

运行 `npm install` 后会生成：

- **node_modules/** - 依赖包文件夹（~100MB）
- **package-lock.json** - 依赖版本锁定文件

运行 `npm run package` 后会生成：

- **dist/** - 打包输出文件夹
  - 包含可执行安装程序
  - 包含未打包的应用文件

这些文件夹都在 `.gitignore` 中，不会提交到Git。

## 🔍 文件依赖关系

```
main.js (主进程)
  ↓
  ├─ 加载 → index.html
  │          ↓
  │          ├─ 引用 → styles.css
  │          └─ 引用 → renderer.js
  │
  ├─ 读取 → package.json
  │
  └─ 通信 ↔ renderer.js (IPC)
```

## 💡 快速定位

| 需求 | 修改文件 |
|------|---------|
| 改变窗口大小 | main.js + styles.css |
| 改变颜色主题 | styles.css |
| 改变默认时间 | renderer.js |
| 改变快捷键 | main.js |
| 添加新功能 | renderer.js + index.html |
| 改变布局 | index.html + styles.css |
| 改变窗口行为 | main.js |

## 🎯 推荐阅读顺序

### 首次使用者
1. README.md （了解功能）
2. 安装说明.md （安装运行）
3. 快速参考.txt （记住快捷键）

### 熟练用户
1. 使用技巧.md （提高效率）
2. Windows11优化说明.md （优化体验）

### 开发者
1. 本文件（了解结构）
2. main.js（理解架构）
3. renderer.js（理解逻辑）
4. CHANGELOG.md（了解更新）

## 🆘 需要帮助？

- **安装问题** → 查看：安装说明.md
- **使用问题** → 查看：README.md
- **进阶技巧** → 查看：使用技巧.md
- **Win11特性** → 查看：Windows11优化说明.md
- **快捷键** → 查看：快速参考.txt
- **文件说明** → 查看：本文件

---

**希望这份说明能帮助您更好地理解和使用本项目！** 📖✨



